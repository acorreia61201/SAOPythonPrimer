[variable_params]
ra =
dec =
delta_tc =
# inspiral parameters
inspiral__inclination =
inspiral__srcmass1 = 
inspiral__srcmass2 = 
inspiral__spin1_a = 
inspiral__spin1_azimuthal = 
inspiral__spin1_polar = 
inspiral__spin2_a = 
inspiral__spin2_azimuthal = 
inspiral__spin2_polar = 
inspiral__comoving_volume = 
inspiral__coa_phase = 
# ringdown parameters
ringdown__inclination =
ringdown__srcmass1 = 
ringdown__srcmass2 = 
ringdown__spin1_a = 
ringdown__spin1_azimuthal = 
ringdown__spin1_polar = 
ringdown__spin2_a = 
ringdown__spin2_azimuthal = 
ringdown__spin2_polar = 
ringdown__comoving_volume = 
ringdown__coa_phase = 

[static_params]
trigger_time = 1126259462.43
f_lower = 20.0
f_ref = 20
lmns = 222
f_final = 2048
inspiral__approximant = IMRPhenomXPHM
ringdown__approximant = IMRPhenomXPHM
inspiral__zero_after_gate = True
ringdown__zero_before_gate = True

[prior-delta_tc]
name = uniform
min-delta_tc = -0.05
max-delta_tc = 0.05

[prior-inspiral__inclination]
name = sin_angle

[prior-inspiral__srcmass1]
name = uniform
min-inspiral__srcmass1 = 5
max-inspiral__srcmass1 = 100

[prior-inspiral__srcmass2]
name = uniform
min-inspiral__srcmass2 = 5
max-inspiral__srcmass2 = 100

[prior-inspiral__spin1_a]
name = uniform
min-inspiral__spin1_a = 0.0
max-inspiral__spin1_a = 0.99

[prior-inspiral__spin1_polar+inspiral__spin1_azimuthal]
name = uniform_solidangle
polar-angle = inspiral__spin1_polar
azimuthal-angle = inspiral__spin1_azimuthal

[prior-inspiral__spin2_a]
name = uniform
min-inspiral__spin2_a = 0.0
max-inspiral__spin2_a = 0.99

[prior-inspiral__spin2_polar+inspiral__spin2_azimuthal]
name = uniform_solidangle
polar-angle = inspiral__spin2_polar
azimuthal-angle = inspiral__spin2_azimuthal

[prior-inspiral__coa_phase]
name = uniform_angle

[prior-inspiral__comoving_volume]
name = uniform
min-inspiral__comoving_volume = 5e3
max-inspiral__comoving_volume = 92918664351

[waveform_transforms-inspiral__spin1x+inspiral__spin1y+inspiral__spin1z]
name = spherical_to_cartesian
x = inspiral__spin1x
y = inspiral__spin1y
z = inspiral__spin1z
radial = inspiral__spin1_a
polar = inspiral__spin1_polar
azimuthal = inspiral__spin1_azimuthal

[waveform_transforms-inspiral__spin2x+inspiral__spin2y+inspiral__spin2z]
name = spherical_to_cartesian
x = inspiral__spin2x
y = inspiral__spin2y
z = inspiral__spin2z
radial = inspiral__spin2_a
polar = inspiral__spin2_polar
azimuthal = inspiral__spin2_azimuthal

[waveform_transforms-inspiral__redshift]
name = custom
inputs = inspiral__comoving_volume
inspiral__redshift = redshift_from_comoving_volume(inspiral__comoving_volume)

[waveform_transforms-inspiral__distance]
name = custom
inputs = inspiral__comoving_volume
inspiral__distance = distance_from_comoving_volume(inspiral__comoving_volume)

[waveform_transforms-inspiral__mass1]
name = custom
inputs = inspiral__srcmass1, inspiral__redshift
inspiral__mass1 = inspiral__srcmass1 * (1 + inspiral__redshift)

[waveform_transforms-inspiral__mass2]
name = custom
inputs = inspiral__srcmass2, inspiral__redshift
inspiral__mass2 = inspiral__srcmass2 * (1 + inspiral__redshift)

[prior-ringdown__inclination]
name = sin_angle

[prior-ringdown__srcmass1]
name = uniform
min-ringdown__srcmass1 = 5
max-ringdown__srcmass1 = 100

[prior-ringdown__srcmass2]
name = uniform
min-ringdown__srcmass2 = 5
max-ringdown__srcmass2 = 100

[prior-ringdown__spin1_a]
name = uniform
min-ringdown__spin1_a = 0.0
max-ringdown__spin1_a = 0.99

[prior-ringdown__spin1_polar+ringdown__spin1_azimuthal]
name = uniform_solidangle
polar-angle = ringdown__spin1_polar
azimuthal-angle = ringdown__spin1_azimuthal

[prior-ringdown__spin2_a]
name = uniform
min-ringdown__spin2_a = 0.0
max-ringdown__spin2_a = 0.99

[prior-ringdown__spin2_polar+ringdown__spin2_azimuthal]
name = uniform_solidangle
polar-angle = ringdown__spin2_polar
azimuthal-angle = ringdown__spin2_azimuthal

[prior-ringdown__coa_phase]
name = uniform_angle

[prior-ringdown__comoving_volume]
name = uniform
min-ringdown__comoving_volume = 5e3
max-ringdown__comoving_volume = 92918664351

[waveform_transforms-ringdown__spin1x+ringdown__spin1y+ringdown__spin1z]
name = spherical_to_cartesian
x = ringdown__spin1x
y = ringdown__spin1y
z = ringdown__spin1z
radial = ringdown__spin1_a
polar = ringdown__spin1_polar
azimuthal = ringdown__spin1_azimuthal

[waveform_transforms-ringdown__spin2x+ringdown__spin2y+ringdown__spin2z]
name = spherical_to_cartesian
x = ringdown__spin2x
y = ringdown__spin2y
z = ringdown__spin2z
radial = ringdown__spin2_a
polar = ringdown__spin2_polar
azimuthal = ringdown__spin2_azimuthal

[waveform_transforms-ringdown__redshift]
name = custom
inputs = ringdown__comoving_volume
ringdown__redshift = redshift_from_comoving_volume(ringdown__comoving_volume)

[waveform_transforms-ringdown__distance]
name = custom
inputs = ringdown__comoving_volume
ringdown__distance = distance_from_comoving_volume(ringdown__comoving_volume)

[waveform_transforms-ringdown__mass1]
name = custom
inputs = ringdown__srcmass1, ringdown__redshift
ringdown__mass1 = ringdown__srcmass1 * (1 + ringdown__redshift)

[waveform_transforms-ringdown__mass2]
name = custom
inputs = ringdown__srcmass2, ringdown__redshift
ringdown__mass2 = ringdown__srcmass2 * (1 + ringdown__redshift)

[prior-ra+dec]
name = uniform_sky

[waveform_transforms-tc]
name = custom
inputs = trigger_time, delta_tc
tc = trigger_time + delta_tc

[waveform_transforms-inspiral__t_gate_start]
name = custom
inputs = tc
inspiral__t_gate_start = tc - 0.001

[waveform_transforms-inspiral__t_gate_end]
name = custom
inputs = tc
inspiral__t_gate_end = tc - 0.001 + 1.

[waveform_transforms-ringdown__t_gate_start]
name = custom
inputs = tc
ringdown__t_gate_start = tc - 1.

[waveform_transforms-ringdown__t_gate_end]
name = custom
inputs = tc
ringdown__t_gate_end = tc

[model]
name = hierarchical
submodels = inspiral ringdown

[inspiral__model]
name = gated_gaussian_margpol
low-frequency-cutoff = H1:20.0 L1:20.0
ignore-failed-waveforms = 
normalize =

[ringdown__model]
name = gated_gaussian_margpol
normalize = 
low-frequency-cutoff = H1:20.0 L1:20.0

[sampler]
name = dynesty
dlogz = 0.1
nlive = 2000
walks = 500
nact = 50
sample = rwalk
checkpoint_time_interval = 1800

[inspiral__data]
instruments = H1 L1
trigger-time = 1126259462.43
analysis-start-time = -2
analysis-end-time = 2
psd-file = H1:/work/pi_ccapano_umassd_edu/acorreia7_umassd_edu/ggn_test/injection/psds/H1_psd.txt L1:/work/pi_ccapano_umassd_edu/acorreia7_umassd_edu/ggn_test/injection/psds/L1_psd.txt
pad-data = 8
strain-high-pass = 10
sample-rate = 2048
fake-strain = H1:zeroNoise L1:zeroNoise
channel-name = H1:GWOSC-16KHZ_R1_STRAIN L1:GWOSC-16KHZ_R1_STRAIN
injection-file = /work/pi_ccapano_umassd_edu/acorreia7_umassd_edu/ggn_test/injection/injection.hdf

[ringdown__data]
instruments = H1 L1
trigger-time = 1126259462.43
analysis-start-time = -2
analysis-end-time = 2
psd-file = H1:/work/pi_ccapano_umassd_edu/acorreia7_umassd_edu/ggn_test/injection/psds/H1_psd.txt L1:/work/pi_ccapano_umassd_edu/acorreia7_umassd_edu/ggn_test/injection/psds/L1_psd.txt
pad-data = 8
strain-high-pass = 10
sample-rate = 2048
fake-strain = H1:zeroNoise L1:zeroNoise
channel-name = H1:GWOSC-16KHZ_R1_STRAIN L1:GWOSC-16KHZ_R1_STRAIN
injection-file = /work/pi_ccapano_umassd_edu/acorreia7_umassd_edu/ggn_test/injection/injection.hdf
